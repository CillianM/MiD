<ul class="topnav">
    <li><a routerLink="/login">MiD Admin Portal</a></li>
    <li><a class="inactive" routerLink="/party">Party Listing</a></li>
    <li><a class="inactive" routerLink="/party/{{partyId}}">{{party?.name}}</a></li>
    <li><a class="active">{{identityType?.name}}</a></li>
    <li class="right"><a routerLink="/login">Logout</a></li>
</ul>

<div style="padding:0 16px;">
  <h2>Identity Type Name: {{identityType?.name}}</h2>
    <div class="container">
      <form>
        <div class="form-group">
          <p>General Information</p>
          <input #typeName type="text"class="text-input" placeholder="Identity Type Name" value="{{identityType?.name}}">
          <input #coverImg type="text"class="text-input-link" placeholder="Cover Image URL" value="{{identityType?.coverImg}}">
          <button class="add-button"><a href="{{identityType?.coverImg}}" target="_blank">Test Link</a></button>
          <input #iconImg type="text"class="text-input-link" placeholder="Icon Image URL" value="{{identityType?.iconImg}}">
          <button class="add-button"><a href="{{identityType?.iconImg}}" target="_blank">Test Link</a></button>
        </div>

        <div class="form-group">
          <ul class="form-heading">
              <li><p>Entry Fields</p></li>
              <li class="right"><button class="add-button" (click)="addField()">Add Field</button></li>
              <li [hidden]="deleteField.length == 0" class="right"><button class="add-button" (click)="deleteFields()">Delete Field</button></li>
          </ul>
          <div class="grouped" *ngFor="let field of identityType?.fields; let i = index">
            <input class="type-check" type="checkbox" (click)="delete(i)">
            <input #typeName type="text"class="type-input" placeholder="Entry Field Name" value={{field?.name}} (input)="updateName(i,$event.target.value)">
            <select #type class="type-select" (change)="updateType(i,type.value)">
                <option value="FIRSTNAME" [selected]="field?.type == 'FIRSTNAME'">Firstname</option>
                <option value="SURNAME" [selected]="field?.type == 'SURNAME'">Surname</option>
                <option value="BIRTHDAY" [selected]="field?.type == 'BIRTHDAY'">Birthday</option>
                <option value="ADDRESS" [selected]="field?.type == 'ADDRESS'">Address</option>
                <option value="KEY" [selected]="field?.type == 'KEY'">Id Field</option>
                <option value="EXPIRY" [selected]="field?.type == 'EXPIRY'">Expiry</option>
              </select>
          </div>
            
          </div>
      </form>
      <div class="button-container">
        <button type="button" class="create-button" (click)="submitData(typeName.value,coverImg.value,iconImg.value)">
          <span>Submit</span>
        </button>
        <button type="button" class="delete-button" (click)="deleteIdentity()">
            <span>Delete</span>
          </button>
      </div>
    </div>
</div>
